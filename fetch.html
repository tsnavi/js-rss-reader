<body>
    <table>
        <tbody id="rss-feed">
            <!-- RSS feed items will be inserted here dynamically -->
        </tbody>
    </table>

    <script>
        // URL of your local RSS feed file
        var rssFeedUrl = 'mastodon_feed.rss';

        // Function to format date
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleString(); // Adjust date format as per your requirement
        }

        // Function to fetch and parse RSS feed
        function fetchAndParseRSSFeed(url) {
            fetch(url)
                .then(response => response.text())
                .then(xml => {
                    // Parse the XML
                    const parser = new DOMParser();
                    const xmlDoc = parser.parseFromString(xml, 'text/xml');
                    // Extract items from the XML
                    const items = xmlDoc.querySelectorAll('item');
                    // Display the feed items on the page
                    const feedContainer = document.getElementById('rss-feed');
                    items.forEach(item => {
                        const pubDate = formatDate(item.querySelector('pubDate').textContent); // Format date
                        const description = item.querySelector('description').textContent;

                        // Create table rows to display feed items
                        const row = document.createElement('tr');
                        row.innerHTML = `<td>${pubDate}</td><td>${description}</td>`;
                        feedContainer.appendChild(row);
                    });
                })
                .catch(error => console.error('Error fetching RSS feed:', error));
        }

        // Call the function with the URL of the local RSS feed
        fetchAndParseRSSFeed(rssFeedUrl);
    </script>
</body>
